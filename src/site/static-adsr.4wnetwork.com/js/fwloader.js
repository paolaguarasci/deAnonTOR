var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(d){var a=0;return function(){return a<d.length?{done:!1,value:d[a++]}:{done:!0}}};$jscomp.arrayIterator=function(d){return{next:$jscomp.arrayIteratorImpl(d)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,a,g){if(d==Array.prototype||d==Object.prototype)return d;d[a]=g.value;return d};$jscomp.getGlobal=function(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<d.length;++a){var g=d[a];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(d,a){var g=$jscomp.propertyToPolyfillSymbol[a];if(null==g)return d[a];g=d[g];return void 0!==g?g:d[a]};
$jscomp.polyfill=function(d,a,g,f){a&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(d,a,g,f):$jscomp.polyfillUnisolated(d,a,g,f))};$jscomp.polyfillUnisolated=function(d,a,g,f){g=$jscomp.global;d=d.split(".");for(f=0;f<d.length-1;f++){var b=d[f];if(!(b in g))return;g=g[b]}d=d[d.length-1];f=g[d];a=a(f);a!=f&&null!=a&&$jscomp.defineProperty(g,d,{configurable:!0,writable:!0,value:a})};
$jscomp.polyfillIsolated=function(d,a,g,f){var b=d.split(".");d=1===b.length;f=b[0];f=!d&&f in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var c=0;c<b.length-1;c++){var k=b[c];if(!(k in f))return;f=f[k]}b=b[b.length-1];g=$jscomp.IS_SYMBOL_NATIVE&&"es6"===g?f[b]:null;a=a(g);null!=a&&(d?$jscomp.defineProperty($jscomp.polyfills,b,{configurable:!0,writable:!0,value:a}):a!==g&&($jscomp.propertyToPolyfillSymbol[b]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(b):$jscomp.POLYFILL_PREFIX+b,b=
$jscomp.propertyToPolyfillSymbol[b],$jscomp.defineProperty(f,b,{configurable:!0,writable:!0,value:a})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(d){if(d)return d;var a=function(b,c){this.$jscomp$symbol$id_=b;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:c})};a.prototype.toString=function(){return this.$jscomp$symbol$id_};var g=0,f=function(b){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_"+(b||"")+"_"+g++,b)};return f},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(d){if(d)return d;d=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),g=0;g<a.length;g++){var f=$jscomp.global[a[g]];"function"===typeof f&&"function"!=typeof f.prototype[d]&&$jscomp.defineProperty(f.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return d},"es6",
"es3");$jscomp.iteratorPrototype=function(d){d={next:d};d[Symbol.iterator]=function(){return this};return d};$jscomp.iteratorFromArray=function(d,a){d instanceof String&&(d+="");var g=0,f=!1,b={next:function(){if(!f&&g<d.length){var c=g++;return{value:a(c,d[c]),done:!1}}f=!0;return{done:!0,value:void 0}}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.owns=function(d,a){return Object.prototype.hasOwnProperty.call(d,a)};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(d,a){for(var g=1;g<arguments.length;g++){var f=arguments[g];if(f)for(var b in f)$jscomp.owns(f,b)&&(d[b]=f[b])}return d};$jscomp.polyfill("Object.assign",function(d){return d||$jscomp.assign},"es6","es3");
(function(d,a){var g={extend:function(e,h){var m={},l;for(l in e)m[l]=h[l]&&0===h[l].length%2?h[l].concat(e[l]):e[l];return m},has:function(e,h){return"string"===typeof e?-1!==h.toLowerCase().indexOf(e.toLowerCase()):!1},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"===typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:a},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},f=function(e,h){for(var m=0,l,n,t,v,w,u;m<h.length&&!w;){var y=h[m],A=h[m+
1];for(l=n=0;l<y.length&&!w;)if(w=y[l++].exec(e))for(t=0;t<A.length;t++)u=w[++n],v=A[t],"object"===typeof v&&0<v.length?2==v.length?this[v[0]]="function"==typeof v[1]?v[1].call(this,u):v[1]:3==v.length?this[v[0]]="function"!==typeof v[1]||v[1].exec&&v[1].test?u?u.replace(v[1],v[2]):a:u?v[1].call(this,u,v[2]):a:4==v.length&&(this[v[0]]=u?v[3].call(this,u.replace(v[1],v[2])):a):this[v]=u?u:a;m+=2}},b=function(e,h){for(var m in h)if("object"===typeof h[m]&&0<h[m].length)for(var l=0;l<h[m].length;l++){if(g.has(h[m][l],
e))return"?"===m?a:m}else if(g.has(h[m],e))return"?"===m?a:m;return e},c={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2E3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},k={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],["name","version"],[/(opios)[\/\s]+([\w\.]+)/i],[["name","Opera Mini"],"version"],[/\s(opr)\/([\w\.]+)/i],[["name",
"Opera"],"version"],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],["name","version"],[/(konqueror)\/([\w\.]+)/i],[["name","Konqueror"],"version"],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],
[["name","IE"],"version"],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[["name","Edge"],"version"],[/(yabrowser)\/([\w\.]+)/i],[["name","Yandex"],"version"],[/(Avast)\/([\w\.]+)/i],[["name","Avast Secure Browser"],"version"],[/(AVG)\/([\w\.]+)/i],[["name","AVG Secure Browser"],"version"],[/(puffin)\/([\w\.]+)/i],[["name","Puffin"],"version"],[/(focus)\/([\w\.]+)/i],[["name","Firefox Focus"],"version"],[/(opt)\/([\w\.]+)/i],[["name","Opera Touch"],"version"],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],
[["name","UCBrowser"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(windowswechat qbcore)\/([\w\.]+)/i],[["name","WeChat(Win) Desktop"],"version"],[/(micromessenger)\/([\w\.]+)/i],[["name","WeChat"],"version"],[/(brave)\/([\w\.]+)/i],[["name","Brave"],"version"],[/(qqbrowserlite)\/([\w\.]+)/i],["name","version"],[/(QQ)\/([\d\.]+)/i],["name","version"],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],["name","version"],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],["name","version"],[/(2345Explorer)[\/\s]?([\w\.]+)/i],
["name","version"],[/(MetaSr)[\/\s]?([\w\.]+)/i],["name"],[/(LBBROWSER)/i],["name"],[/xiaomi\/miuibrowser\/([\w\.]+)/i],["version",["name","MIUI Browser"]],[/;fbav\/([\w\.]+);/i],["version",["name","Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],["name","version"],[/headlesschrome(?:\/([\w\.]+)|\s)/i],["version",["name","Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[["name",/(.+)/,"$1 WebView"],"version"],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[["name",/(.+(?:g|us))(.+)/,
"$1 $2"],"version"],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],["version",["name","Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[["name","Sailfish Browser"],"version"],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],["name","version"],[/(dolfin)\/([\w\.]+)/i],[["name","Dolphin"],"version"],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[["name","360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[["name","Chrome"],"version"],[/(coast)\/([\w\.]+)/i],
[["name","Opera Coast"],"version"],[/fxios\/([\w\.-]+)/i],["version",["name","Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],["version","name"],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[["name","GSA"],"version"],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],["name",["version",b,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419",
"?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape)\/([\w\.-]+)/i],[["name","Netscape"],"version"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,
/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],["name","version"]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",g.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",g.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],
[["architecture",g.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],[["model","Apple TV"],["vendor","Apple"],["type","smarttv"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/.+silk\//i],
["model",["vendor","Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[["model",b,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/android.+aft([bms])\sbuild/i],["model",["vendor","Amazon"],["type","smarttv"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,
/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor","model",["type","mobile"]],[/\(bb10;\s(\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],["model",["vendor","Asus"],["type","tablet"]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[["vendor","Sony"],["model","Xperia Tablet"],["type","tablet"]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],["model",["vendor",
"Sony"],["type","mobile"]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/android.+;\s(shield)\sbuild/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation\s[34portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/(sprint\s(\w+))/i],[["vendor",b,{HTC:"APA",Sprint:"Sprint"}],["model",b,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],
["vendor",["model",/_/g," "],["type","mobile"]],[/(nexus\s9)/i],["model",["vendor","HTC"],["type","tablet"]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],["model",["vendor","Huawei"],["type","mobile"]],[/android.+(bah2?-a?[lw]\d{2})/i],["model",["vendor","Huawei"],["type","tablet"]],[/(microsoft);\s(lumia[\s\w]+)/i],["vendor","model",["type","mobile"]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],["model",["vendor","Microsoft"],["type","console"]],[/(kin\.[onetw]{3})/i],[["model",/\./g,
" "],["vendor","Microsoft"],["type","mobile"]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],["model",["vendor","Motorola"],["type","mobile"]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],["model",["vendor","Motorola"],["type","tablet"]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[["vendor",g.trim],["model",g.trim],["type","smarttv"]],[/hbbtv.+maple;(\d+)/i],[["model",/^/,"SmartTV"],["vendor",
"Samsung"],["type","smarttv"]],[/\(dtv[\);].+(aquos)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/smart-tv.+(samsung)/i],["vendor",["type","smarttv"],"model"],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/sie-(\w*)/i],["model",["vendor",
"Siemens"],["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],["model",["vendor","Acer"],["type","tablet"]],[/android.+([vl]k\-?\d{3})\s+build/i],["model",["vendor","LG"],["type","tablet"]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor","model",["type","smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,
/android.+lg(\-?[\d\w]+)\s+build/i],["model",["vendor","LG"],["type","mobile"]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],["vendor","model",["type","tablet"]],[/android.+(ideatab[a-z0-9\-\s]+)/i],["model",["vendor","Lenovo"],["type","tablet"]],[/(lenovo)[_\s-]?([\w-]+)/i],["vendor","model",["type","mobile"]],[/linux;.+((jolla));/i],["vendor","model",["type","mobile"]],[/((pebble))app\/[\d\.]+\s/i],["vendor","model",["type","wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],["vendor",
"model",["type","mobile"]],[/crkey/i],[["model","Chromecast"],["vendor","Google"],["type","smarttv"]],[/android.+;\s(glass)\s\d/i],["model",["vendor","Google"],["type","wearable"]],[/android.+;\s(pixel c)[\s)]/i],["model",["vendor","Google"],["type","tablet"]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],["model",["vendor","Google"],["type","mobile"]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,
/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","tablet"]],[/android.+;\s(m[1-5]\snote)\sbuild/i],["model",["vendor","Meizu"],["type","mobile"]],[/(mz)-([\w-]{2,})/i],[["vendor","Meizu"],"model",["type","mobile"]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],["model",["vendor","OnePlus"],["type","mobile"]],
[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],["model",["vendor","RCA"],["type","tablet"]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],["model",["vendor","Dell"],["type","tablet"]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],["model",["vendor","Verizon"],["type","tablet"]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[["vendor","Barnes & Noble"],"model",["type","tablet"]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],["model",["vendor","NuVision"],["type","tablet"]],[/android.+;\s(k88)\sbuild/i],
["model",["vendor","ZTE"],["type","tablet"]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],["model",["vendor","Swiss"],["type","mobile"]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],["model",["vendor","Swiss"],["type","tablet"]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],["model",["vendor","Zeki"],["type","tablet"]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[["vendor","Dragon Touch"],"model",["type","tablet"]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],
["model",["vendor","Insignia"],["type","tablet"]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],["model",["vendor","NextBook"],["type","tablet"]],[/android.+[;\/]\s*(Xtreme_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[["vendor","Voice"],"model",["type","mobile"]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[["vendor","LvTel"],"model",["type","mobile"]],[/android.+;\s(PH-1)\s/i],["model",["vendor","Essential"],["type","mobile"]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],
["model",["vendor","Envizen"],["type","tablet"]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],["vendor","model",["type","tablet"]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],["model",["vendor","MachSpeed"],["type","tablet"]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],["vendor","model",["type","tablet"]],[/android.+[;\/]\s*TU_(1491)\s+build/i],["model",["vendor","Rotor"],["type","tablet"]],[/android.+(KS(.+))\s+build/i],["model",["vendor","Amazon"],["type","tablet"]],
[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],["vendor","model",["type","tablet"]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[["type",g.lowerize],"vendor","model"],[/[\s\/\(](smart-?tv)[;\)]/i],[["type","smarttv"]],[/(android[\w\.\s\-]{0,9});.+build/i],["model",["vendor","Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],["version",["name","Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,
/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv:([\w\.]{1,9}).+(gecko)/i],["version","name"]],os:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],["name",["version",b,c]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",b,c]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]*)/i,
/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,
/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.\d]*)/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],["name","version"],[/(haiku)\s(\w+)/i],["name","version"],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[["version",/_/g,"."],["name","iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[["name","Mac OS"],
["version",/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],["name","version"]]},p=function(e,h){"object"===typeof e&&(h=e,e=a);if(!(this instanceof p))return(new p(e,h)).getResult();var m=e||(d&&d.navigator&&d.navigator.userAgent?d.navigator.userAgent:""),l=h?g.extend(k,h):k;this.getBrowser=function(){var n={name:a,version:a};f.call(n,m,l.browser);n.major=g.major(n.version);
return n};this.getCPU=function(){var n={architecture:a};f.call(n,m,l.cpu);return n};this.getDevice=function(){var n={vendor:a,model:a,type:a};f.call(n,m,l.device);return n};this.getEngine=function(){var n={name:a,version:a};f.call(n,m,l.engine);return n};this.getOS=function(){var n={name:a,version:a};f.call(n,m,l.os);return n};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return m};
this.setUA=function(n){m=n;return this};return this};p.VERSION="0.7.21";p.BROWSER={NAME:"name",MAJOR:"major",VERSION:"version"};p.CPU={ARCHITECTURE:"architecture"};p.DEVICE={MODEL:"model",VENDOR:"vendor",TYPE:"type",CONSOLE:"console",MOBILE:"mobile",SMARTTV:"smarttv",TABLET:"tablet",WEARABLE:"wearable",EMBEDDED:"embedded"};p.ENGINE={NAME:"name",VERSION:"version"};p.OS={NAME:"name",VERSION:"version"};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=
p),exports.UAParser=p):"function"===typeof define&&define.amd?define(function(){return p}):d&&(d.UAParser=p);var q=d&&(d.jQuery||d.Zepto);if(q&&!q.ua){var r=new p;q.ua=r.getResult();q.ua.get=function(){return r.getUA()};q.ua.set=function(e){r.setUA(e);e=r.getResult();for(var h in e)q.ua[h]=e[h]}}})("object"===typeof window?window:this);var FourWLogger=function(){var d=!!window.console,a=!(!d||!window.console.log),g=!(!d||!window.console.info),f=!(!d||!window.console.warn),b=!(!d||!window.console.error),c=!1,k;this.setStartTime=function(){k=performance.now()};this.getStartTime=function(){return k};this.canLog=function(){return c};this.setDebug=function(){c=isDebug()};this.decorateLog=function(p,q,r,e){p=[].slice.call(p);q&&p.unshift(q);p.unshift("display: inline-block; color: "+r+"; background: "+e+"; padding: 1px 4px; border-radius: 3px;");
p.unshift("%cFOURW");return p};this.logMessage=function(){c&&a&&console.log.apply(console,this.decorateLog(arguments,"","#fff","#3b88c3"))};this.logInfo=function(){c&&g&&console.info.apply(console,this.decorateLog(arguments,"INFO:","#fff","#282923"))};this.logWarning=function(){c&&f&&console.warn.apply(console,this.decorateLog(arguments,"WARNING:","#282923","#e6d782"))};this.logError=function(){c&&b&&console.error.apply(console,this.decorateLog(arguments,"ERROR:","#fff","#e74674"))}};var FourWDoc=function(d,a,g){var f={gdpr:"",gdpr_consent:"",tcData:{}};this.setTcData=function(e){f.tcData=e};this.getTcData=function(){return f.tcData};this.getConsentGdprApplies=function(){var e=this.getTcData();return"undefined"!==typeof e.gdprApplies?e.gdprApplies:!1};this.getConsentString=function(){var e=this.getTcData();return"undefined"!==typeof e.tcString?e.tcString:""};this.getAddtlConsent=function(){var e=this.getTcData();return"undefined"!==typeof e.addtlConsent?e.addtlConsent:""};this.getConsentVendors=
function(){var e=this.getTcData();return"undefined"!==typeof e.vendor?e.vendor:{consents:{},legitimateInterests:{}}};this.consentHasVendors=function(e){e=void 0===e?[]:e;e=Array.isArray(e)?e:[];if(0===e.length)return this.getLogger().logMessage("[CONSENT] No vendors to check"),!0;var h=this.getConsentVendors(),m=!0;this.getLogger().logMessage("[CONSENT] Allowed vendors",h);this.getLogger().logMessage("[CONSENT] Vendors to check",e);e.forEach(function(l,n,t){m=m&&("undefined"!==typeof h.consents[l]?
h.consents[l]:!1)});return m};this.getConsentPurposes=function(){var e=this.getTcData();return"undefined"!==typeof e.purpose?e.purpose:{consents:{},legitimateInterests:{}}};this.consentHasPurposes=function(e){e=void 0===e?[]:e;e=Array.isArray(e)?e:[];if(0===e.length)return this.getLogger().logMessage("[CONSENT] No purpose to check"),!0;var h=this.getConsentPurposes(),m=!0;this.getLogger().logMessage("[CONSENT] Allowed purposes",h);this.getLogger().logMessage("[CONSENT] Purposes to check",e);e.forEach(function(l,
n,t){m=m&&("undefined"!==typeof h.consents[l]?h.consents[l]:!1)});return m};this.consentHasLegitimateInterests=function(e){e=void 0===e?[]:e;e=Array.isArray(e)?e:[];if(0===e.length)return this.getLogger().logMessage("[CONSENT] No legitimate interests to check"),!0;var h=this.getConsentPurposes(),m=!0;this.getLogger().logMessage("[CONSENT] Allowed purposes",h);this.getLogger().logMessage("[CONSENT] Legitimate interests to check",e);e.forEach(function(l,n,t){m=m&&("undefined"!==typeof h.legitimateInterests[l]?
h.legitimateInterests[l]:!1)});return m};this.setGdpr=function(e){f.gdpr=e;d.$4wConsentGdprApplies=e};this.getGdpr=function(){return f.gdpr};this.setGdprConsent=function(e){f.gdpr_consent=e;d.$4wConsentData=e};this.getGdprConsent=function(){return f.gdpr_consent};this.getPrivacy=function(){return f};var b="",c="",k=new UAParser,p="",q;this.userAgentParser=function(){return k};this.getLogger=function(){return g};this.getWindow=function(){return d};this.getDocument=function(){return a};this.getWindowWidth=
function(){return d.innerWidth||a.documentElement.clientWidth||a.body.clientWidth};this.getWindowHeight=function(){return d.innerHeight||a.documentElement.clientHeight||a.body.clientHeight};this.getOffset=function(e){e=e.getBoundingClientRect();return{left:e.left+d.scrollX,top:e.top+d.scrollY}};this.getElementWidth=function(e){e=a.getElementById(e);var h=e.offsetWidth;0===h&&(h=e.clientWidth);return h};this.getElementHeight=function(e){e=a.getElementById(e);var h=e.offsetHeight;0===h&&(h=e.clientHeight);
return h};this.getElement=function(e){var h=this.getDocument();e=h.getElementById(e);null===e&&(e=h.getElementsByTagName("body")[0]);return e};this.setIpAddress=function(e){p=e};this.getIpAddress=function(){return p};this.setReferral=function(){var e=this.getWindow(),h="";try{h=e.top.location.origin+e.top.location.pathname}catch(m){h=e.document.referrer}if(""===h||"about:blank"===h||"about%3Ablank"===h)h="https://www.4wnetwork.com";this.setReferralUrlObj(h);b=h};this.getReferral=function(){return b};
this.setFullReferral=function(){var e=this.getWindow(),h="";try{h=e.top.location.href}catch(m){h=e.document.referrer}if(""===h||"about:blank"===h||"about%3Ablank"===h)h="https://www.4wnetwork.com";c=h};this.getFullReferral=function(){return c};this.urlEncode=function(e){return encodeURIComponent(e)};this.setReferralUrlObj=function(e){var h=this.getRoot().document.createElement("a");h.href=e;q=h};this.getReferralUrlObj=function(){return q};this.getDomain=function(){return q.hostname};this.getPath=
function(){return q.pathname};this.getQuerystring=function(){return q.search};this.getRoot=function(){return this.isRootAccessible()?this.getWindow().top:this.getWindow()};this.isRootAccessible=function(){this.getWindow();return!0};this.getProtocol=function(){return"about:"!==a.location.protocol?a.location.protocol:"https:"};var r=new FourWUtility(this.getLogger());this.fwUtils=function(){return r};this.getJSONP=function(e,h){var m="_"+Math.floor(1E7*Math.random()+1),l=this.getDocument(),n=this.getWindow(),
t=l.createElement("script"),v=l.getElementsByTagName("head")[0]||l.documentElement;n[m]=function(w){v.removeChild(t);h&&h(w)};e=e.replace("callback=?","callback="+m);t.src=e;t.async=!0;v.appendChild(t)}};var FourWUtility=function(d){this.getLogger=function(){return d};this.implode=function(a,g){if("object"===typeof g){if("[object Array]"===Object.prototype.toString.call(g))return g.join(a);var f="",b="",c="";for(f in g)b+=c+g[f],c=a;return b}return g};this.creaElemento=function(a,g,f,b){a=a.getIframe();g=this.getIframeDocument(a).createElement(g);g.className=f||"";g.innerHTML=b||"";return g};this.addToBody=function(a,g){a=a.getIframe();a=this.getIframeDocument(a);a.body.appendChild(g);return a};this.accodaElemento=
function(a,g){a.appendChild(g);return a};this.insertAfter=function(a,g){a.parentNode.insertBefore(g,a.nextSibling)};this.addCss=function(a,g){a=a.getIframe();var f=this.getIframeDocument(a);a=f.getElementsByTagName("head")[0]||f.documentElement;f=f.createElement("link");f.type="text/css";f.rel="stylesheet";f.href=g;this.getLogger().logMessage("Appendo foglio di stile: "+g);return a=this.accodaElemento(a,f)};this.addScript=function(a,g,f){var b=a.createElement("script");b.async=f?f:!1;b.src=g;b.type=
"text/javascript";a=a.getElementsByTagName("head")[0]||a.documentElement;this.getLogger().logMessage("Appendo script: "+g);return a=this.accodaElemento(a,b)};this.addJs=function(a,g,f,b){var c="fourw-div-"+g,k="fourw-iframe-"+g,p=a.getElementById(g);g=a.createElement("div");g.id=c;this.insertAfter(p,g);c="<!DOCTYPE html><html><head></head><body>";c=(""!==f?c+('<script type="text/javascript" src="'+f+'">\x3c/script>'):c+b)+"</body></html>";f=a.createElement("iframe");f.id=k;f.name=k;f.frameBorder=
0;f.marginHeight=0;f.marginWidth=0;f.topMargin=0;f.leftMargin=0;f.scrolling="no";f.allowTransparency=!1;f.height=1;f.width=1;f.src="about:blank";this.accodaElemento(g,f);a=a.getElementById(k);a=a.contentWindow||a.contentDocument;a.document&&(a=a.document);a.open();a.write(c);a.close()};this.createIframe=function(a,g,f,b,c){c=a.getDocument();var k=a.getElement(g);if(null===k)a.getLogger().logError("[CREATE IFRAME FAILED] element "+g+" [NOT FOUND]");else return b=c.createElement("div"),b.id="fourw-div-"+
g,b.setAttribute("style","overflow: hidden; box-sizing: border-box; display: initial;"),this.insertAfter(k,b),c=c.createElement("iframe"),c.id="fourw-iframe-"+g,c.frameBorder=0,c.marginHeight=0,c.marginWidth=0,c.topMargin=0,c.leftMargin=0,c.scrolling="no",c.allowTransparency=!1,"mobile"===a.userAgentParser().getDevice().type?c.width="100%;":c.width=0<f?f:"100%;",c.height=0,c.src="about:blank","firefox"===a.userAgentParser().getBrowser().name.toLowerCase()?(c.style.visibility="visible",c.style.opacity=
"1"):c.style.display="none",this.accodaElemento(b,c),c};this.createSlotIframe=function(a){return this.createIframe(a.fwDocument(),a.getId(),a.getWidth(),a.getHeight(),a.getFlagExcludeCss)};this.createStandardIframe=function(a,g,f){a.userAgentParser().getDevice();var b=a.getDocument(),c=a.getWindow(),k=a.getElement(g);k||(c=c.top.document.getElementsByTagName("BODY")[0],k=b.createElement("div"),k.className=f?f:"advframe-fourw",k.id=g,c.insertBefore(k,c.firstChild));f=b.createElement("iframe");f.id=
"fourw-iframe-"+g;f.width=1;f.height=1;f.allowTransparency=!0;f.marginWidth=0;f.marginHeight=0;f.frameBorder=0;f.scrolling="no";f.topMargin=0;f.leftMargin=0;f.setAttribute("webKitAllowFullScreen","");f.setAttribute("mozAllowFullScreen","");f.setAttribute("allowFullScreen","");f.setAttribute("style","vertical-align: middle; width: 1px; height: 1px;");f.src="about:blank";"firefox"===a.userAgentParser().getBrowser().name.toLowerCase()?(f.style.visibility="visible",f.style.opacity="1"):f.style.display=
"none";this.accodaElemento(k,f);return f};this.getIframeDocument=function(a){return a.contentDocument||a.contentWindow.document};this.getIframeWindow=function(a){return a.contentWindow||a};this.addCssToIframe=function(a,g){a=this.getIframeDocument(a);addCss(a,g)};this.addScriptToIframe=function(a,g,f){a=this.getIframeDocument(a);this.addScript(a,g,f)};this.cachebuster=function(){var a=new Date,g=a.getDate(),f=a.getMonth()+1,b=a.getFullYear();a=a.getHours();return 1E6*b+1E4*f+100*g+a};this.stripProtocol=
function(a){return a.replace(/^http(s?):/i,"")};this.getRand=function(){return""+Math.round(1E12*Math.random())+Date.now()};this.generateUUID=function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(g){var f=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"===g?f:3&f|8).toString(16)})};this.extractVendorIdFromGdprString=function(a){try{var g=/({GDPR_CONSENT_([0-9]+)})/g.exec(a);return 2<g.length?parseInt(g[2]):0}catch(f){return 0}};this.createRandomString=
function(a){for(var g=Array(a),f=0;f<a;f++)g[f]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(62*Math.random())];return g.join("")}};var FourWAdvert=function(d,a){var g=d.id,f,b=a.fwDocument();this.getId=function(){return g};this.getSlot=function(){return a};this.setType=function(c){f=c};this.getType=function(){return f};this.fwDocument=function(){return b}};var FourWSlot=function(d,a){var g=a.id,f=a.sid,b=a.did,c=a.qcu||"",k,p,q,r=!1,e=a.purposes||[];Array.isArray(e)||(e=[e]);this.getPurposes=function(){return e};var h=a.legitimateInterests||[];Array.isArray(h)||(h=[h]);this.getLegitimateInterests=function(){return h};this.consentHasPurposes=function(){return this.fwDocument().consentHasPurposes(this.getPurposes())};this.consentHasLegitimateInterests=function(){return this.fwDocument().consentHasLegitimateInterests(this.getLegitimateInterests())};this.fwDocument=
function(){return d};this.getPublisherTracking=function(){return c};this.getGUID=function(){return"alloc"};this.getId=function(){return g};this.getSpaceId=function(){return f};this.getDomainId=function(){return b};this.getType=function(){return k};this.setType=function(m){k=m};this.setWidth=function(m){p=m};this.getWidth=function(){return p};this.setHeight=function(m){q=m};this.getHeight=function(){return q};this.isRendered=function(){return r};this.setRendered=function(m){r=m};this.isReady=function(){return this.fwDocument().getRoot().document.getElementById(this.getId())?
!0:!1}};var DisplayAdvert=function(d,a){FourWAdvert.apply(this,arguments);this.setType("display");this.getHtml=function(g){}};DisplayAdvert.prototype=FourWAdvert.prototype;DisplayAdvert.prototype.constructor=DisplayAdvert;
var FourWDisplaySlot=function(d,a){FourWSlot.apply(this,arguments);this.setType("display");"skin"===a.format&&(a.size=[1800,1E3]);var g=a.size||[1,1];this.setWidth(g[0]);this.setHeight(g[1]);var f,b=a.passback||{};this.setPlacementId=function(c){f=c};this.getPlacementId=function(){return f};this.setPlacementId(a.placementId);this.getPassbackStr=function(c){if("undefined"===typeof c||"undefined"===typeof c.platform||"undefined"===typeof c.params)return"";var k=this.fwDocument().fwUtils().implode(";",
c.params);return"&pbt="+c.platform+"&pbp="+k};this.render=function(c){if(this.consentHasPurposes()){var k=this.getSpaceId(),p=this.getPlacementId(),q=this.getWidth(),r=this.getHeight(),e=this.fwDocument().getIpAddress();this.fwDocument().getLogger().logMessage("[RENDER SLOT] Slot "+this.getId()+" (Ip address: "+e+")");e=""!==e?"&ip="+e:"";var h=this.fwDocument().getReferralUrlObj();h=h.protocol+"//"+h.hostname;this.fwDocument().getLogger().logMessage("[RENDER SLOT] Slot "+this.getId()+" (spaceId:"+
k+", type:'"+this.getType()+"') [RENDERING]");var m=this.fwDocument().getPrivacy(),l=this.getPassbackStr(b);p="//adsr.4wnetwork.com/creative.js?placement_id="+p+"&sid="+k+l+(1!==q?"&iw="+q:"")+(1!==r?"&ih="+r:"")+"&sl=1"+e+"&xref="+h+"&gdpr="+m.gdpr+"&gdpr_consent="+m.gdpr_consent;this.fwDocument().fwUtils().addJs(this.fwDocument().getDocument(),this.getId(),p,"");this.fwDocument().getLogger().logMessage("[RENDER SLOT] Slot "+this.getId()+" - "+p);this.fwDocument().getLogger().logMessage("[RENDER SLOT] Slot "+
this.getId()+" (type:'"+this.getType()+"') [DONE]");c&&(this.fwDocument().getLogger().logMessage("[RENDER SLOT] Slot "+this.getId()+" (spaceId:"+k+", type:'"+this.getType()+"') [CALLBACK]"),c());this.setRendered(!0)}else this.fwDocument().getLogger().logWarning("[RENDER SLOT] Slot "+this.getId()+" skipped [TCF NO PURPOSE]")}};FourWDisplaySlot.prototype=FourWSlot.prototype;FourWDisplaySlot.prototype.constructor=FourWDisplaySlot;var VideoPlayer=function(d){this.getHtml=function(a){}},VideoAdvert=function(d,a){FourWAdvert.apply(this,arguments);this.setType("video");this.getHtml=function(g){}};VideoAdvert.prototype=FourWAdvert.prototype;VideoAdvert.prototype.constructor=VideoAdvert;
var FourWVideoSlot=function(d,a){FourWSlot.apply(this,arguments);this.setType("video");this.setWidth(1);this.setHeight(1);this.render=function(g){this.consentHasPurposes()?(this.fwDocument().getLogger().logWarning("[RENDER SLOT] Slot "+this.getId()+" (space: "+this.getSpaceId()+", type:'"+this.getType()+"') [TODO]"),this.setRendered(!0)):this.fwDocument().getLogger().logWarning("[RENDER SLOT] Slot "+this.getId()+" skipped [TCF NO PURPOSE]")}};FourWVideoSlot.prototype=FourWSlot.prototype;
FourWVideoSlot.prototype.constructor=FourWVideoSlot;var RedirectAdvert=function(d,a){FourWAdvert.apply(this,arguments);this.setType("redirect");this.getHtml=function(g){}};RedirectAdvert.prototype=FourWAdvert.prototype;RedirectAdvert.prototype.constructor=RedirectAdvert;
var FourWRedirectSlot=function(d,a){FourWSlot.apply(this,arguments);this.setType("redirect");this.setWidth(1);this.setHeight(1);this.render=function(g){this.consentHasPurposes()?(this.fwDocument().getLogger().logWarning("[RENDER SLOT] Slot "+this.getId()+" (space: "+this.getSpaceId()+", type:'"+this.getType()+"') [TODO]"),this.setRendered(!0)):this.fwDocument().getLogger().logWarning("[RENDER SLOT] Slot "+this.getId()+" skipped [TCF NO PURPOSE]")}};FourWRedirectSlot.prototype=FourWSlot.prototype;
FourWRedirectSlot.prototype.constructor=FourWRedirectSlot;var NativeAdvert=function(d,a){FourWAdvert.apply(this,arguments);this.setType("native");var g=d.title,f=d.description,b=d.displayurl,c=d.clickurl,k=d.imageurl,p=d.impressionurl,q=d.trackingurl,r=d.jstrackingurl;this.getHtml=function(e){return'<a class="a n'+e+'" href="'+a.getPublisherTracking()+c+'" rel="nofollow" target="_blank">'+(k?'<div class="i" id="i_'+e+'"><img src="'+k+'" /></div>':"")+'<div class="x" id="x_'+e+'">'+(g?'<div class="t" id="t_'+e+'">'+g+"</div>":"")+(f?'<div class="d" id="d_'+
e+'">'+f+"</div>":"")+(b?'<div class="u" id="u_'+e+'">'+b+"</div>":"")+"</div></a>"};this.getImpressionHtml=function(){return p?'<img width="1" height="1" src="'+p+'" style="display: none; visibility: hidden;" />':""};this.getTrackingPixelHtml=function(){var e="",h=this.fwDocument().getGdpr(),m=this.fwDocument().getGdprConsent();if(""===m)return e;if(q&&0<q.length)for(var l=0;l<q.length;l++){var n=q[l];if(""!=n){var t=this.fwDocument().fwUtils().extractVendorIdFromGdprString(n);0<t?(this.fwDocument().getLogger().logMessage("[TRACKER "+
l+"] "+a.getId()+" - Check if consent has vendor ID",t),this.fwDocument().consentHasVendors([t])&&(this.fwDocument().getLogger().logMessage("[TRACKER "+l+"] "+a.getId()+" Consent YES - Replace {GDPR_CONSENT_"+t+"} macro with consent string"),n=n.replace("${GDPR_CONSENT_"+t+"}",m),n=n.replace("${GDPR}",h),e=e+'<img width="1" height="1" src="'+n+'" style="display: none; visibility: hidden;" />')):e=e+'<img width="1" height="1" src="'+n+'" style="display: none; visibility: hidden;" />'}}if(r&&0<r.length)for(l=
0;l<r.length;l++)n=r[l],""!=n&&(t=this.fwDocument().fwUtils().extractVendorIdFromGdprString(n),0<t?(this.fwDocument().getLogger().logMessage("[JS TRACKER "+l+"] "+a.getId()+" - Check if consent has vendor ID",t),this.fwDocument().consentHasVendors([t])&&(this.fwDocument().getLogger().logMessage("[JS TRACKER "+l+"] "+a.getId()+" Consent YES - Replace {GDPR_CONSENT_"+t+"} macro with consent string"),n=n.replace("${GDPR_CONSENT_"+t+"}",m),n=n.replace("${GDPR}",h),e=e+'<script type="text/javascript" src="'+
n+'">\x3c/script>')):e=e+'<script type="text/javascript" src="'+n+'">\x3c/script>');return e}};NativeAdvert.prototype=FourWAdvert.prototype;NativeAdvert.prototype.constructor=NativeAdvert;
var NativeExtra=function(d,a){var g=d.extra.advCssUrl,f=!0;this.setExcludeCssMobileFlag=function(m){f=m};this.getExcludeCssMobileFlag=function(){return f};var b=d.extra.type_tag,c=d.extra.advContainerClass,k=d.extra.advContainerPrefix,p=d.extra.height_widget||d.extra.advContainerHeight,q=d.extra.width_widget||d.extra.advContainerWidth;if("undefined"!==typeof a){var r=a.getCustomCss();r&&(g=r,r=a.getFlagExcludeCss()||!1,this.setExcludeCssMobileFlag(r));(r=a.getCustomClass())&&(c=r);(r=a.getCustomPrefix())&&
(k=r)}var e=d.extra.num_ads,h=d.extra.callback;this.getSlot=function(){return a};this.getCss=function(){return g};this.getClasse=function(){return c};this.getPrefix=function(){return k};this.getNrOfResults=function(){return e};this.getCallback=function(){return h};this.getWidgetWidth=function(){return q};this.getWidgetHeight=function(){return p};this.getTypeTag=function(){return b}},NativeChoice=function(d,a){this.getSlot=function(){return a};var g=this.getSlot().fwDocument().getProtocol(),f=g+"//www.youronlinechoices.com/it/le-tue-scelte",
b=g+"//optimized-by.4wnetwork.com/asset/img/adchoise.png",c=d.data.feedtitle||"by 4W",k=d.data.feedlink||g+"//www.4wmarketplace.com/";this.getHtml=function(){return'<div id="h" class="fw-olc-tl"><a href="'+f+'" target="_blank"><img src="'+b+'"></a><a target="_blank" href="'+k+'">'+c+"&nbsp;</a></div>"}},NativeFeed=function(d,a){this.getSlot=function(){return a};var g=a.size||[300,250],f=a.imgsize||[450,254],b=new NativeExtra(d,a);this.getExtra=function(){return b};var c=d.data.feedtitle;this.getTitle=
function(){return c};var k=d.data.feedlink;this.getLink=function(){return k};var p=d.data.guid;this.getGUID=function(){return p};var q=d.data.results;this.getResults=function(){return q};var r=d.data.spacewidth;this.getSpaceWidth=function(){return r};var e=d.data.spaceheight;this.getSpaceHeight=function(){return e};var h=d.data.mediawidth;this.getMediaWidth=function(){return h};var m=d.data.mediaheight;this.getMediaHeight=function(){return m};for(var l=[],n,t=0;t<d.data.advert.length;t++)n=new NativeAdvert(d.data.advert[t],
a),l.push(n);this.getAdverts=function(){return l};var v=new NativeChoice(d,a);this.getChoice=function(){return v};this.getRealWidth=function(){var w=Number(this.getExtra().getWidgetWidth());1===w&&(w=this.getSlot().getWidth());return 1===w||0===w?"100%":w+"px"};this.getRealHeight=function(){var w=Number(this.getExtra().getWidgetHeight());1===w&&(w=this.getSlot().getHeight());return 1===w||0===w?"auto":w+"px"};this.getPrebidMember=function(){return a.memberId||11685};this.getPrebidSlotSize=function(){return JSON.stringify(g)};
this.getPrebidImageSize=function(){return JSON.stringify(f)};this.getPlacementId=function(){return a.placementId||19214663};this.getHtml=function(w){var u=this.getSlot().fwDocument().fwUtils().cachebuster();w='<link type="text/css" rel="stylesheet" href="'+this.getExtra().getCss()+"?cb="+u+'" />';var y="";this.getExtra().getExcludeCssMobileFlag()||(y='<link type="text/css" rel="stylesheet" href="https://static.4wmarketplace.com/publisher/css/ppnm/mobile-grid-native.css?cb='+u+'" />');u=this.getExtra().getPrefix();
var A="<script type='text/javascript'>function getIframeHeight(){ var documentHeight = document.getElementById('4wBody').scrollHeight; var message = {fwSlot:{name:'"+(this.getSlot().getId()+"',height: documentHeight}}; console.log('send message to parent:',message); parent.postMessage(message, '*'); }");w="<head>"+w+y+(A+"\x3c/script></head>");y="<body id='4wBody' onload='getIframeHeight();'>";A=this.getExtra().getClasse();var x=this.getExtra().getTypeTag();y="mobile"===this.getSlot().fwDocument().userAgentParser().getDevice().type||
"RESPONSIVE"===x?y+'<div id="'+u+'" class="'+A+'" style="width:100%;">':y+'<div id="'+u+'" class="'+A+'" style="width:'+this.getRealWidth()+";height:"+this.getRealHeight()+';">';y+=this.getChoice().getHtml();u=this.getAdverts();for(x=0;x<u.length;x++)A=u[x],y+=A.getHtml(x);for(x=0;x<u.length;x++)A=u[x],y+=A.getImpressionHtml(),y+=A.getTrackingPixelHtml();return w='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">'+
w+(y+"</div></body></html>")}},FourWNativeSlot=function(d,a){FourWSlot.apply(this,arguments);this.setType("native");var g=a.hd||5;this.getIntestazione=function(){return g};var f=a.sticky||!1,b=a.size||[1,1],c=a.excludeMobCss||a.excludemobcss||!1,k=a.imgsize||[450,254],p=this.isReady()?this.fwDocument().getElementWidth(a.id):0,q=this.isReady()?this.fwDocument().getElementHeight(a.id):0;p=a.size||[p,q];this.fwDocument().getLogger().logMessage("[TAG COMMAND] "+this.getId()+" (widget size: "+p[0]+" x "+
p[1]+")");this.setWidth(p[0]);this.setHeight(p[1]);p=[250,188];p=a.imgsize||p;"mobile"!==this.fwDocument().userAgentParser().getDevice().type||c||320===b[0]&&(100===b[1]||50===b[1])?q=!1:(q=!0,this.fwDocument().getLogger().logMessage("[TAG COMMAND] "+this.getId()+" (use big image)"));q=q?"16:9":a.r||"";switch(q){case "1:1":p=[250,250];break;case "4:3":p=[250,188];break;case "16:9":p=[450,254]}var r=p||a.imgsize;this.fwDocument().getLogger().logMessage("[TAG COMMAND] "+this.getId()+" (aspect ratio: "+
q+" - image size: "+r[0]+" x "+r[1]+")");var e=a.n||0,h=a.ch||void 0,m,l,n,t=a.a,v=a.nid||0,w=a.amp||0;this.getNativeId=function(){return v};var u;this.setSubPartner=function(x){x=""+x;x.replace(/ /g,"_");u=x};this.setSubPartner(a.s);this.getPublisherId=function(){return t};this.getSubPartner=function(){return u};this.isSticky=function(){return f};this.getAmp=function(){return w};this.setCustomCss=function(x){m=this.fwDocument().getProtocol()+this.fwDocument().fwUtils().stripProtocol(x)};"undefined"!==
typeof a.css&&null!==a.css&&this.setCustomCss(a.css);this.setCustomClass=function(x){l=x};"undefined"!==typeof a.class&&null!==a.class&&this.setCustomClass(a.class);var y=this.fwDocument().fwUtils().createSlotIframe(this);this.getIframe=function(){return y};this.setImageSize=function(x,C){r=[x,C]};this.getImageWidth=function(){return r[0]};this.getImageHeight=function(){return r[1]};this.getNrOfResults=function(){return e};this.getCustomChannel=function(){return h};this.getFlagExcludeCss=function(){return 1==
c||"true"==c?!0:!1};this.getCustomCss=function(){return m};this.getCustomClass=function(){return l};this.setCustomPrefix=function(x){n=x};this.getCustomPrefix=function(){return n};this.getPrebidPublisherId=function(){return a.publisherId||1803899};this.getTargetId=function(){return"xandr_"+this.getId()};this.getPrebidMember=function(){return a.memberId||11685};this.getPrebidSlotSize=function(){return JSON.stringify(b)};this.getPrebidImageSize=function(){return JSON.stringify(k)};this.getPlacementId=
function(){return a.placementId||19495547};this.callPrebid=function(x,C){var G={callback:x,pm:this.getPrebidMember(),n:this.getNrOfResults(),sl:this.getId(),sw:b[0],sh:b[1],iw:k[0],ih:k[1],pl:this.getPlacementId()};x=Object.keys(G).map(function(D){return encodeURIComponent(D)+"="+encodeURIComponent(G[D])}).join("&");var B=this.fwDocument().getDocument();C=B.getElementsByTagName("head")[0]||B.documentElement;B=B.createElement("script");B.src="//adsr.4wnetwork.com/prebid.html?"+x;C.appendChild(B)};
var A;this.setBidResponse=function(x,C){A=x;this.renderPostBid(C)};this.getBidResponse=function(){return A};this.render=function(x){if(this.consentHasPurposes()){var C=this.getNrOfResults(),G=this.getSpaceId(),B=this.getDomainId(),D;G&&(D="Space: "+G);var H=this.getPublisherId(),F=this.getSubPartner();H&&F&&(D="Publisher: "+H+", SubPartner: "+F);B&&(D=D+", Domain: "+B);if("undefined"===typeof this.getIframe())this.fwDocument().getLogger().logError("[RENDER SLOT] Slot "+this.getId()+" ("+D+", type:'"+
this.getType()+"') [SKIPPED]");else{var z=this,M=this.getImageWidth(),R=this.getImageHeight(),I=this.getCustomChannel(),aa=this.getGUID(),ba=this.getIntestazione(),N="",K=this.fwDocument().getIpAddress();this.fwDocument().getLogger().logMessage("[RENDER SLOT] Slot "+this.getId()+" (Ip address: "+K+")");K=""!=K?"&ip="+K:"";var L=this.fwDocument().getReferralUrlObj(),U="&ref="+this.fwDocument().urlEncode(L.protocol+"//"+L.hostname+L.pathname);G?N="https://adsr.4wnetwork.com/ads.jsonp?sid="+G+"&u="+
L.hostname+K+"&gdpr="+("undefined"!==typeof window.$4wConsentGdprApplies?window.$4wConsentGdprApplies:"")+"&gdpr_consent="+("undefined"!==typeof window.$4wConsentData?window.$4wConsentData:"")+U+"&":H&&F&&(N="https://adsr.4wnetwork.com/feed.jsonp?a="+H+(B?"&did="+B:"")+"&s="+F+"&u="+L.hostname+K+"&gdpr="+("undefined"!==typeof window.$4wConsentGdprApplies?window.$4wConsentGdprApplies:"")+"&gdpr_consent="+("undefined"!==typeof window.$4wConsentData?window.$4wConsentData:"")+U+"&");""===N?this.fwDocument().getLogger().logError("[RENDER SLOT] Slot "+
this.getId()+" ("+D+", type:'"+this.getType()+"') [WRONG PARAMETERS] [SKIPPED]"):(this.fwDocument().getLogger().logMessage("[RENDER SLOT] Slot "+this.getId()+" ("+D+", results: "+C+", type:'"+this.getType()+"') [RENDERING]"),G=encodeURI(this.fwDocument().userAgentParser().getUA()),B=this.getNativeId(),D=0<this.getWidth()&&0<this.getHeight()?this.getWidth()+"x"+this.getHeight():"",H=this.getFlagExcludeCss(),C=N+(0<C?"n="+C+"&":"")+(0<B?"&nid="+B:"")+"ai=1&iw="+M+"&ih="+R+"&"+(I?"ch="+I+"&":"")+"guid="+
aa+"&sl=1&i=1&hd="+ba+"&ua="+G+"&"+(""!==D?"sz="+D+"&":"")+(H?"ex=1&":"")+(this.getAmp()?"tp=amp&":"")+"callback=?",this.fwDocument().getJSONP(C,function(O){z.fwDocument().getLogger().logMessage("[RENDER SLOT] Slot "+z.getId(),O);O=new NativeFeed(O,z);var S=z.getIframe();try{var ca=O.getHtml(),V=window.addEventListener?"addEventListener":"attachEvent";(0,window[V])("attachEvent"===V?"onmessage":"message",function(E){if("object"===typeof E.data&&"object"===typeof E.data.fwSlot){var P=E.data.fwSlot.height;
if(E=document.getElementById("fourw-iframe-"+E.data.fwSlot.name))E.height=P}},!1);S.setAttribute("srcdoc",ca);S.style.display="block";S.src='javascript: window.frameElement.getAttribute("srcdoc");';if(z.isSticky()){var Q=function(){for(var E=W.clientHeight,P=0,J=W;null!==J.previousElementSibling;)J=J.previousElementSibling,P+=J.clientHeight;J=document.getElementById(z.getId());J=z.fwDocument().getOffset(J);X=E;Y=P;Z=J},T=document.getElementById("fourw-div-"+z.getId()),W=T.offsetParent,da=z.getHeight(),
Z,X,Y;Q();window.onscroll=function(E){E=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;T.style.position=E+da>X+Y?"static":E>Z.top?"fixed":"static";T.style.top=0};window.onresize=function(){Q()};window.onload=function(){Q()};var ea=0,fa=setInterval(function(){Q();6===++ea&&window.clearInterval(fa)},500)}z.fwDocument().getLogger().logMessage("[RENDER SLOT] Slot "+z.getId()+" (type:'"+z.getType()+"') [DONE]");var ha=performance.now()-
z.fwDocument().getLogger().getStartTime();z.fwDocument().getLogger().logMessage("[PERFORMANCE] Slot "+z.getId()+" rendered in "+ha+" ms");x&&(z.fwDocument().getLogger().logMessage("[RENDER SLOT] Slot "+z.getId()+" (type:'"+z.getType()+"') [CALLBACK]"),x());z.setRendered(!0)}catch(E){z.fwDocument().getLogger().logError(E)}}))}}else this.fwDocument().getLogger().logWarning("[RENDER SLOT] Slot "+this.getId()+" skipped [TCF NO PURPOSE]")}};FourWNativeSlot.prototype=FourWSlot.prototype;
FourWNativeSlot.prototype.constructor=FourWNativeSlot;var FourWSkin=function(d,a){FourWSlot.apply(this,arguments);this.setType("skin");var g=(a.size||[1800,1E3])[0]||1800;this.getSkinWidth=function(){return g};this.setSkinWidth=function(l){g=l};var f=a.wallpaper||"https://www.4w-test-site.com/fwloader/blank.jpg";this.getWallpaper=function(){return f};var b=a.landingurl||"https://www.4wmarketplace.com?ref=skin";this.getLandingPageUrl=function(){return b};var c=a.landingPageTarget||"_blank";this.getLandingPageTarget=function(){return c};var k=a.trackers||
[];this.getTrackers=function(){return k};var p=a.jstrackers||[];this.getJsTrackers=function(){return p};var q=a.zindex||-1;this.getZIndex=function(){return q};this.setZIndex=function(l){q=l};var r=a.customcss||"";this.getCustomCss=function(){return r};this.setCustomCss=function(l){r=l};var e=a.margintop||0;this.getMarginTop=function(){return e};this.setMarginTop=function(l){e=l};var h=a.pagesize||1E3;this.getPageSize=function(){return h};this.setPageSize=function(l){h=l};var m=this.fwDocument().fwUtils().createStandardIframe(this.fwDocument(),
this.getId(),"skin-forw");this.getIframe=function(){return m};this.getTrackingPixelHtml=function(){var l="",n=this.fwDocument().getGdpr(),t=this.fwDocument().getGdprConsent();if(""===t)return l;var v=this.getTrackers();if(v&&0<v.length)for(var w=0;w<v.length;w++){var u=v[w];if(""!=u){var y=this.fwDocument().fwUtils().extractVendorIdFromGdprString(u);0<y?(this.fwDocument().getLogger().logMessage("[TRACKER "+w+"] "+this.getId()+" - Check if consent has vendor ID",y),this.fwDocument().consentHasVendors([y])&&
(this.fwDocument().getLogger().logMessage("[TRACKER "+w+"] "+this.getId()+" Consent YES - Replace {GDPR_CONSENT_"+y+"} macro with consent string"),u=u.replace("${GDPR_CONSENT_"+y+"}",t),u=u.replace("${GDPR}",n),l=l+'<img width="1" height="1" src="'+u+'" style="display: none; visibility: hidden;" />')):l=l+'<img width="1" height="1" src="'+u+'" style="display: none; visibility: hidden;" />'}}if((v=this.getJsTrackers())&&0<v.length)for(w=0;w<v.length;w++)u=v[w],""!=u&&(y=this.fwDocument().fwUtils().extractVendorIdFromGdprString(u),
0<y?(this.fwDocument().getLogger().logMessage("[JS TRACKER "+w+"] "+this.getId()+" - Check if consent has vendor ID",y),this.fwDocument().consentHasVendors([y])&&(this.fwDocument().getLogger().logMessage("[JS TRACKER "+w+"] "+this.getId()+" Consent YES - Replace {GDPR_CONSENT_"+y+"} macro with consent string"),u=u.replace("${GDPR_CONSENT_"+y+"}",t),u=u.replace("${GDPR}",n),l=l+'<script type="text/javascript" src="'+u+'">\x3c/script>')):l=l+'<script type="text/javascript" src="'+u+'">\x3c/script>');
return l};this.getHtml=function(){var l='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><style>* { vertical-align:middle; }body {margin:0; padding:0; }</style></head><body>'+(this.getTrackingPixelHtml()+"</body>");return l+"</html>"};this.setCustomSkin=function(){var l=this.fwDocument().getDomain(),n=this.fwDocument().getPath();this.setMarginTop(110);this.setPageSize(1E3);-1<
l.indexOf("ansa.it")&&(this.setMarginTop(110),this.setPageSize(1E3),n.match(/^\/(canale_lifestyle|industry_4_0)/i)?(this.setMarginTop(130),this.setPageSize(1274)):n.match(/^\/(canale_ambiente|canale_viaggiart\/it|canale_terraegusto)/i)?this.setMarginTop(100):n.match(/^\/(vela)/i)&&this.setMarginTop(50))};this.addStyle=function(l){var n="body {margin-top: "+this.getMarginTop()+"px !important;}";n+=this.getCustomCss();l="undefined"!==typeof l?l:"fourw-custom";var t=this.fwDocument().getRoot().document.getElementById(l);
t?t.innerHTML=n:(t=this.fwDocument().getRoot().document.createElement("style"),t.type="text/css",t.id=l,t.styleSheet?t.styleSheet.cssText=n:t.appendChild(this.fwDocument().getRoot().document.createTextNode(n)),this.fwDocument().getRoot().document.getElementsByTagName("head")[0].appendChild(t))};this.render=function(l){if(this.consentHasPurposes())if("undefined"===typeof this.getIframe())this.fwDocument().getLogger().logError("[RENDER SLOT] Slot "+this.getId()+" (type:'"+this.getType()+"') [SKIPPED]");
else{this.setCustomSkin();var n=this.getSpaceId(),t=this.fwDocument().getIpAddress();this.fwDocument().getLogger().logMessage("[RENDER SLOT] Slot "+this.getId()+" (Ip address: "+t+")");this.fwDocument().getLogger().logMessage("[RENDER SLOT] Slot "+this.getId()+" (spaceId:"+n+", type:'"+this.getType()+"') [RENDERING]");t=this.getIframe();try{var v=function(){window.open(w,u)};this.addStyle("fourw-custom");var w=this.getLandingPageUrl(),u=this.getLandingPageTarget(),y=this.getPageSize()/2,A=this.fwDocument().getRoot().document.createElement("div");
A.id="fourw-wallpaper-top";A.style="position: absolute;top:0;cursor:pointer;width:100%;height:"+this.getMarginTop()+"px;";A.onclick=v;var x=this.fwDocument().getRoot().document.createElement("div");x.id="fourw-wallpaper-click-left";x.style="width:100%;height:100%;cursor:pointer;position:fixed;top:0;right:50%;z-index:10;margin-right:"+y+"px !important;";x.onclick=v;var C=this.fwDocument().getRoot().document.createElement("div");C.id="fourw-wallpaper-click-right";C.style="width:100%;height:100%;cursor:pointer;position:fixed;top:0;left:50%;z-index:10;margin-left:"+
y+"px !important;";C.onclick=v;var G=this.getZIndex(),B=this.fwDocument().getRoot().document.createElement("div");B.id="fourw-wallpaper";B.style="cursor:pointer;display:block;position:fixed;left:0;width:100%;height:100%;z-index:"+G+";";var D=this.getSkinWidth(),H=this.fwDocument().getRoot().document.createElement("img");H.id="fourw-wallpaper-image";H.style="background-repeat:no-repeat;transform:translateX(-50%);left:50%;top:0;position:fixed;max-width:"+D+"px";H.setAttribute("src",this.getWallpaper());
B.appendChild(H);var F=this.fwDocument().getRoot().document.body;F.insertBefore(B,F.firstChild);F.insertBefore(x,F.firstChild);F.insertBefore(C,F.firstChild);F.insertBefore(A,F.firstChild);var z=this.getHtml(),M=window.addEventListener?"addEventListener":"attachEvent";(0,window[M])("attachEvent"===M?"onmessage":"message",function(I){"object"===typeof I.data&&"object"===typeof I.data.fwSlot&&console.log("[parent] message received: ",I.data.fwSlot)},!1);t.setAttribute("srcdoc",z);t.style.display="block";
t.src='javascript: window.frameElement.getAttribute("srcdoc");';this.fwDocument().getLogger().logMessage("[RENDER SLOT] Slot "+this.getId()+" (type:'"+this.getType()+"') [DONE]");var R=performance.now()-this.fwDocument().getLogger().getStartTime();this.fwDocument().getLogger().logMessage("[PERFORMANCE] Slot "+this.getId()+" rendered in "+R+" ms");l&&(this.fwDocument().getLogger().logMessage("[RENDER SLOT] Slot "+this.getId()+" (spaceId:"+n+", type:'"+this.getType()+"') [CALLBACK]"),l());this.setRendered(!0)}catch(I){this.fwDocument().getLogger().logError(I)}}else this.fwDocument().getLogger().logWarning("[RENDER SLOT] Slot "+
this.getId()+" skipped [TCF NO PURPOSE]")}};FourWSkin.prototype=FourWSlot.prototype;FourWSkin.prototype.constructor=FourWSkin;var FourWTag=function(d,a){this.cmd={_cmd:[],_isRunning:!1,shift:function(){return this._cmd.shift()},push:function(b){return this._cmd.push(b)},clear:function(){this._cmd=[]},flush:function(){for(this._isRunning=!0;0<this._cmd.length;){var b=this._cmd.shift();b&&"function"===typeof b&&b()}this._isRunning=!1}};var g=[],f="";this.setCallback=function(b){"function"===typeof b&&(f=b)};this.getCallback=function(){return f};this.fwDocument=function(){return a};this.getSlots=function(){return g};this.isReady=
function(){return 0<g.length};this.processQueue=function(){this._isProcessing=!0;var b=this.cmd._cmd;if("undefined"!==typeof d&&"undefined"!==typeof d.cmd){this.fwDocument().getLogger().logMessage("[TAG PARSING] Parsing command queue [START]");for(var c;0<d.cmd.length;)c=d.cmd.shift(),"function"===typeof c&&(this.fwDocument().getLogger().logMessage(c),b.push(c));this.fwDocument().getLogger().logMessage("[TAG PARSING] Parsing command queue [DONE]")}this._isProcessing=!1};this.executeCommands=function(){this.fwDocument().getLogger().logMessage("[TAG COMMAND] Execute command queue [START]");
this.cmd.flush();this.fwDocument().getLogger().logMessage("[TAG COMMAND] Execute command queue [DONE]")};this.renderSlots=function(){this._isRendering=!0;for(var b,c=0;c<this.getSlots().length;c++){var k=this.getSlots()[c];b=c===this.getSlots().length-1?this.getCallback():"";k.isReady()&&!k.isRendered()&&k.render(b)}this._isRendering=!1};this.setGdpr=function(b){this.fwDocument().setGdpr(b);this.fwDocument().getLogger().logMessage("[GDPR APPLIES] "+b)};this.setGdprConsent=function(b){this.fwDocument().setGdprConsent(b);
this.fwDocument().getLogger().logMessage("[GDPR CONSENT] "+b)};this.setTcData=function(b){this.fwDocument().setTcData(b)};this.addSlot=function(b){var c=b.type||"";switch(c){case "native":this.addSlotNative(b);break;case "display":this.addSlotDisplay(b);break;case "video":this.addSlotVideo(b);break;case "redirect":this.addSlotRedirect(b);break;case "skin":this.addSkin(b);break;default:this.fwDocument().getLogger().logWarning("[TAG COMMAND] Unknown "+c+" type [SKIPPED]")}return this};this.addSlotNative=
function(b){var c=(c="undefined"!==typeof b.id)&&("undefined"!==typeof b.sid||"undefined"!==typeof b.a&&"undefined"!==typeof b.s);if(!c)return this.fwDocument().getLogger().logWarning("[TAG COMMAND] Errore slot non corretto! [SKIPPED]"),this.fwDocument().getLogger().canLog()&&console.table(b),this;c=this.getSlots();for(var k=0;k<c.length;k++)if(c[k].getId()===b.id){this.fwDocument().getLogger().logError("[TAG COMMAND] Errore slot "+b.id+" gi\u00e0 creato! [SKIPPED]");return}c=this.fwDocument();b=
new FourWNativeSlot(c,b);b instanceof FourWNativeSlot&&(this.getSlots().push(b),this.fwDocument().getLogger().logMessage("[TAG COMMAND] "+b.getId(),"[ADDED]"),b.isReady()&&!b.isRendered()&&b.render(""));return this};this.addSlotDisplay=function(b){if("undefined"===typeof b.id||"undefined"===typeof b.sid)return this.fwDocument().getLogger().logWarning("[TAG COMMAND] Errore slot non corretto! [SKIPPED]"),this.fwDocument().getLogger().canLog()&&console.table(b),this;for(var c=this.getSlots(),k=0;k<c.length;k++)if(c[k].getId()===
b.id){this.fwDocument().getLogger().logError("[TAG COMMAND] Errore slot "+b.id+" gi\u00e0 creato! [SKIPPED]");return}c=this.fwDocument();b=new FourWDisplaySlot(c,b);b instanceof FourWDisplaySlot&&(this.getSlots().push(b),this.fwDocument().getLogger().logMessage("[TAG COMMAND] "+b.getId()+" [ADDED]"),b.isReady()&&!b.isRendered()&&b.render(""));return this};this.addSlotVideo=function(b){if("undefined"===typeof b.id||"undefined"===typeof b.sid)return this.fwDocument().getLogger().logWarning("[TAG COMMAND] Errore slot non corretto! [SKIPPED]"),
this.fwDocument().getLogger().canLog()&&console.table(b),this;for(var c=this.getSlots(),k=0;k<c.length;k++)if(c[k].getId()===b.id){this.fwDocument().getLogger().logError("[TAG COMMAND] Errore slot "+b.id+" gi\u00e0 creato! [SKIPPED]");return}c=this.fwDocument();b=new FourWVideoSlot(c,b);b instanceof FourWVideoSlot&&(this.getSlots().push(b),this.fwDocument().getLogger().logMessage("[TAG COMMAND] "+b.getId()+" [ADDED]"),b.isReady()&&!b.isRendered()&&b.render(""));return this};this.addSlotRedirect=function(b){if("undefined"===
typeof b.id||"undefined"===typeof b.sid)return this.fwDocument().getLogger().logWarning("[TAG COMMAND] Errore slot non corretto! [SKIPPED]"),this.fwDocument().getLogger().canLog()&&console.table(b),this;for(var c=this.getSlots(),k=0;k<c.length;k++)if(c[k].getId()===b.id){this.fwDocument().getLogger().logError("[TAG COMMAND] Errore slot "+b.id+" gi\u00e0 creato! [SKIPPED]");return}c=this.fwDocument();b=new FourWRedirectSlot(c,b);b instanceof FourWRedirectSlot&&(this.getSlots().push(b),this.fwDocument().getLogger().logMessage("[TAG COMMAND] "+
b.getId()+" [ADDED]"),b.isReady()&&!b.isRendered()&&b.render(""));return this};this.addSlotAppNexus=function(b){var c=(c="undefined"!==typeof b.id)&&"undefined"!==typeof b.invCode;if(!c)return this.fwDocument().getLogger().logWarning("[TAG COMMAND] Errore slot non corretto! [SKIPPED]"),this.fwDocument().getLogger().canLog()&&console.table(b),this;c=this.getSlots();for(var k=0;k<c.length;k++)if(c[k].getId()===b.id){this.fwDocument().getLogger().logError("[TAG COMMAND] Errore slot "+b.id+" gi\u00e0 creato! [SKIPPED]");
return}c=this.fwDocument();b=new FourWAppNexusSlot(c,b);b instanceof FourWAppNexusSlot&&(this.getSlots().push(b),this.fwDocument().getLogger().logMessage("[TAG COMMAND] "+b.getId(),"[ADDED]"),b.isReady()&&!b.isRendered()&&b.render(""));return this};this.addSkin=function(b){if("undefined"===typeof b.id||"undefined"===typeof b.sid)return this.fwDocument().getLogger().logWarning("[TAG COMMAND] Errore slot non corretto! [SKIPPED]"),this.fwDocument().getLogger().canLog()&&console.table(b),this;for(var c=
this.getSlots(),k=0;k<c.length;k++)if(c[k].getId()===b.id){this.fwDocument().getLogger().logError("[TAG COMMAND] Errore slot "+b.id+" gi\u00e0 creato! [SKIPPED]");return}c=this.fwDocument();b=new FourWSkin(c,b);b instanceof FourWSkin&&(this.getSlots().push(b),this.fwDocument().getLogger().logMessage("[TAG COMMAND] "+b.getId()+" [ADDED]"),b.isRendered()||b.render(""));return this};this.addCustomCallback=function(b,c,k){c.addEventListener?c.addEventListener(b,k,!1):c.attachEvent&&c.attachEvent("on"+
b,k)};this.addLoadCallback=function(b,c){this.addCustomCallback("load",b,c)};this.doLoad=function(){var b=this;this.fwDocument().getLogger().logMessage("[LIBRARY] fwloader.js [LOADED]");this.fwDocument().getLogger().logMessage(this.fwDocument().userAgentParser().getResult());this.processQueue();this.executeCommands();this.renderSlots();var c=setInterval(function(){return b.cmd.flush()},200);setTimeout(function(){clearInterval(c)},2E3)}};var fwVersion="1.01.431",fwtag=fwtag||{cmd:[]};window.fwEnv=window.fwEnv||"prod";window.fwStorage=checkls();function checkls(){try{return localStorage.setItem("fwtest","fwtest"),localStorage.removeItem("fwtest"),!0}catch(d){return!1}}function isDebug(){var d=window.fwStorage?(d=JSON.parse(localStorage.getItem("fourw")))?"undefined"===typeof d.fwEnv?window.fwEnv:d.fwEnv:window.fwEnv:window.fwEnv;return"debug"===d}
window.fwEnableDebug=function(){if(window.fwStorage)return localStorage.setItem("fourw",JSON.stringify({fwEnv:"debug"})),"debug on";window.fwEnv="debug";return"localStorage not supported"};window.fwDisableDebug=function(){if(window.fwStorage)return localStorage.setItem("fourw",JSON.stringify({fwEnv:"prod"})),"debug off";window.fwEnv="prod";return"localStorage not supported"};
window.fwSetItemWithExpiry=function(d,a,g){var f=new Date;window.fwStorage&&(a={value:btoa(a),expiry:f.getTime()+g},localStorage.setItem(d,JSON.stringify(a)))};window.fwGetItemWithExpiry=function(d){if(window.fwStorage){var a=localStorage.getItem(d);if(!a)return null;var g=JSON.parse(a);return(new Date).getTime()>a.expiry?(localStorage.removeItem(d),null):atob(g.value)}return null};
var deliveryAds=function(d,a,g){if(!a[d]){a[d]=!0;console.log("[fwloader.js] Version "+fwVersion);d=new FourWLogger;d.setStartTime();var f=new FourWDoc(a,g,d);f.setReferral();f.setFullReferral();d=function(q){q=q.getFullReferral();try{var r=/(fw_debug=([0-1]))/g.exec(q);return 2<r.length?parseInt(r[2]):!1}catch(e){return!1}}(f);1===d?a.fwEnableDebug():0===d&&a.fwDisableDebug();f.getLogger().setDebug();!f.getLogger().canLog()&&console.log("[fwloader.js] GDPR=",a.$4wConsentGdprApplies);!f.getLogger().canLog()&&
console.log("[fwloader.js] GDPR_CONSENT=",a.$4wConsentData);var b="undefined"!==typeof a.$4wConsentGdprApplies?a.$4wConsentGdprApplies:"",c="undefined"!==typeof a.$4wConsentData?a.$4wConsentData:"",k="undefined"!==typeof a.$4wTcData?a.$4wTcData:{};d=a.fwGetItemWithExpiry("fwi");var p=!(fwtag instanceof FourWTag);d?(f.setIpAddress(d),p&&(d=Object.assign({},fwtag),fwtag=new FourWTag(d,f)),fwtag.setGdpr(b),fwtag.setGdprConsent(c),fwtag.setTcData(k),p&&fwtag.addLoadCallback(g,fwtag.doLoad())):f.getJSONP("https://optimized-by.4wnetwork.com/g.php?callback=?",
function(q){a.fwSetItemWithExpiry("fwi",q.ip,900);a.fwIp=q.ip;f.setIpAddress(q.ip);p&&(q=Object.assign({},fwtag),fwtag=new FourWTag(q,f));fwtag.setGdpr(b);fwtag.setGdprConsent(c);fwtag.setTcData(k);p&&fwtag.addLoadCallback(g,fwtag.doLoad())})}};
(function(d,a,g){a.$4wCallbacks={};a.addEventListener("message",function(c){var k={};try{k="string"===typeof c.data?JSON.parse(c.data):c.data}catch(p){}k.__tcfapiReturn&&(c=k.__tcfapiReturn,"function"===typeof a.$4wCallbacks[c.callId]&&(a.$4wCallbacks[c.callId](c.returnValue,c.success),delete a.$4wCallbacks[c.callId]))},!1);a.$4w__tcfapi=function(c,k,p,q){for(var r=a,e,h=a.top;r;){try{if(!e&&r.frames.__tcfapiLocator){e=r;break}}catch(m){}if(r===h)break;r=r.parent}e?(r=Math.random()+"",c={__tcfapiCall:{command:c,
parameter:q,version:k,callId:r}},a.$4wCallbacks[r]=p,e.postMessage(c,"*")):p({msg:"__tcfapiLocator not found"},!1)};var f=1,b=setInterval(function(){3<f?(clearInterval(b),deliveryAds(d,a,g)):"function"===typeof a.__tcfapi?a.__tcfapi("getTCData",2,function(c,k){!k||"tcloaded"!==c.eventStatus&&"useractioncomplete"!==c.eventStatus||(clearInterval(b),a.$4wConsentData=c.tcString,a.$4wConsentGdprApplies=1==c.gdprApplies||"true"==c.gdprApplies||1==c.gdprApplies?1:0,a.$4wTcData=c,deliveryAds(d,a,g))}):a.$4w__tcfapi("getTCData",
2,function(c,k){!k||"tcloaded"!==c.eventStatus&&"useractioncomplete"!==c.eventStatus||(clearInterval(b),a.$4wConsentData=c.tcString,a.$4wConsentGdprApplies=1==c.gdprApplies||"true"==c.gdprApplies||1==c.gdprApplies?1:0,a.$4wTcData=c,deliveryAds(d,a,g))});f++},150)})("fwloader","object"===typeof window?window:"object"===typeof window.parent?window.parent:this,document);
